<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>D·ªãch v·ª• t∆∞ v·∫•n sinh vi√™n</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      width: 100%;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #ffffff 100%);
      overflow-x: hidden;
      color: #333;
      position: relative;
      display: flex;
      flex-direction: column;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 50%, rgba(3, 136, 180, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(3, 136, 180, 0.03) 0%, transparent 50%);
      pointer-events: none;
      z-index: -1;
    }

    /* Th√™m container ch√≠nh ƒë·ªÉ qu·∫£n l√Ω layout */
    .main-container {
      flex: 1;
      overflow-y: auto;
      padding-bottom: 65px;
    }

    /* C·∫•u h√¨nh footer */
    .footer-wrapper {
      position: fixed;
      bottom: 0;
      width: 100%;
      height: 65px;
      z-index: 1000;
    }

    @keyframes colorShift {
      0% { color: #0388B4; text-shadow: 0 0 10px rgba(3, 136, 180, 0.5); }
      25% { color: #00D4FF; text-shadow: 0 0 20px rgba(0, 212, 255, 0.6); }
      50% { color: #0388B4; text-shadow: 0 0 10px rgba(3, 136, 180, 0.5); }
      75% { color: #026689; text-shadow: 0 0 20px rgba(2, 102, 137, 0.6); }
      100% { color: #0388B4; text-shadow: 0 0 10px rgba(3, 136, 180, 0.5); }
    }

    @keyframes slideInDown {
      from {
        opacity: 0;
        transform: translateY(-50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes cardSlideIn {
      from {
        opacity: 0;
        transform: translateY(40px) scale(0.95);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    @keyframes glow {
      0% {
        opacity: 0;
      }
      50% {
        opacity: 1;
      }
      100% {
        opacity: 0;
        transform: scale(1.2);
      }
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0) scale(1.25); }
      25% { transform: translateY(-15px) scale(1.25); }
      50% { transform: translateY(0) scale(1.25); }
      75% { transform: translateY(-8px) scale(1.25); }
    }

    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(50px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0px);
      }
      50% {
        transform: translateY(-10px);
      }
    }

    @keyframes spin {
      from { transform: rotateZ(0deg); }
      to { transform: rotateZ(360deg); }
    }

    .welcome-section {
      text-align: center;
      padding: 40px 20px;
      margin-top: 30px;
      animation: slideInDown 0.8s ease;
    }

    .welcome-text {
      font-size: 36px;
      font-weight: 700;
      margin-bottom: 10px;
      animation: colorShift 4s ease-in-out infinite;
      transition: all 0.3s ease;
      cursor: pointer;
      letter-spacing: 1px;
      position: relative;
    }

    .welcome-text:hover {
      transform: scale(1.05);
      filter: brightness(1.2);
      animation: colorShift 1.5s ease-in-out infinite;
    }

    .welcome-subtext {
      font-size: 18px;
      color: #0388B4;
      font-weight: 600;
      animation: slideInDown 0.8s ease 0.2s both;
      letter-spacing: 0.5px;
    }

    .welcome-section:hover .welcome-text {
      filter: drop-shadow(0 0 20px rgba(3, 136, 180, 0.6));
    }

    .main {
      max-width: 1200px;
      margin: 60px auto;
      padding: 20px;
      display: flex;
      justify-content: center;
      gap: 40px;
      flex-wrap: wrap;
    }

    .card {
      background: white;
      width: 300px;
      padding: 40px 30px;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 8px 24px rgba(3, 136, 180, 0.08);
      cursor: pointer;
      transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
      position: relative;
      overflow: hidden;
      border: 2px solid transparent;
      animation: cardSlideIn 0.6s ease backwards;
    }

    .card:nth-child(1) { animation-delay: 0s; }
    .card:nth-child(2) { animation-delay: 0.15s; }
    .card:nth-child(3) { animation-delay: 0.3s; }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(3, 136, 180, 0.05), rgba(3, 136, 180, 0.02));
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .card:hover {
      transform: translateY(-20px) scale(1.03);
      box-shadow: 0 24px 48px rgba(3, 136, 180, 0.25);
      border-color: #0388B4;
    }

    .card:hover::before {
      opacity: 1;
    }

    .card:hover::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(3, 136, 180, 0.1) 0%, transparent 70%);
      animation: glow 0.6s ease;
    }

    .card-icon {
      font-size: 60px;
      color: #0388B4;
      margin-bottom: 20px;
      display: inline-block;
      transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .card:hover .card-icon {
      transform: scale(1.25) rotateY(20deg);
      color: #026689;
      animation: bounce 0.6s ease;
    }

    .card h3 {
      font-size: 22px;
      margin-bottom: 12px;
      font-weight: 700;
      color: #0388B4;
      transition: all 0.3s ease;
    }

    .card:hover h3 {
      color: #0388B4;
      text-shadow: 0 0 15px rgba(3, 136, 180, 0.3);
    }

    .card p {
      color: #666;
      font-size: 14px;
      line-height: 1.6;
      transition: all 0.3s ease;
    }

    .card:hover p {
      color: #555;
      transform: translateY(5px);
    }

    .weather {
      position: fixed;
      top: 100px;
      right: 20px;
      width: 240px;
      background: white;
      padding: 20px;
      border-radius: 20px;
      box-shadow: 0 12px 32px rgba(3, 136, 180, 0.15);
      text-align: center;
      z-index: 100;
      animation: slideInRight 0.6s ease 0.2s both;
      border-top: 4px solid #0388B4;
      transition: all 0.4s ease;
    }

    .weather:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 40px rgba(3, 136, 180, 0.25);
      border-top-color: #026689;
    }

    .weather-icon {
      font-size: 48px;
      margin-bottom: 10px;
      display: inline-block;
      animation: float 3s ease-in-out infinite;
      transition: all 0.3s ease;
    }

    .weather:hover .weather-icon {
      animation: spin 0.6s ease;
    }

    .weather-temp {
      font-size: 36px;
      font-weight: 700;
      color: #0388B4;
      margin: 10px 0;
      transition: all 0.3s ease;
    }

    .weather:hover .weather-temp {
      transform: scale(1.1);
      color: #026689;
    }

    .weather-desc {
      font-size: 14px;
      color: #666;
      text-transform: capitalize;
      margin-bottom: 15px;
      transition: all 0.3s ease;
    }

    .weather:hover .weather-desc {
      color: #0388B4;
      font-weight: 600;
    }

    .weather-details {
      display: flex;
      justify-content: space-around;
      font-size: 12px;
      gap: 8px;
    }

    .weather-detail-item {
      background: linear-gradient(135deg, #FF9500 0%, #FF7F00 100%);
      padding: 8px 12px;
      border-radius: 12px;
      flex: 1;
      color: white;
      font-weight: 600;
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      cursor: pointer;
    }

    .weather-detail-item:hover {
      transform: scale(1.1);
      box-shadow: 0 8px 20px rgba(255, 149, 0, 0.4);
      background: linear-gradient(135deg, #FF7F00 0%, #FF6500 100%);
    }

    @media (max-width: 768px) {
      .weather {
        position: relative;
        top: auto;
        right: auto;
        width: 100%;
        margin-top: 20px;
        animation: slideInRight 0.6s ease;
      }

      .main {
        margin-top: 40px;
        gap: 20px;
      }

      .card {
        width: 100%;
        max-width: 300px;
      }

    }
    /* X√≥a g·∫°ch d∆∞·ªõi v√† m√†u t√≠m c·ªßa t·∫•t c·∫£ card-link */
    a.card,
    a.card:link,
    a.card:visited,
    a.card:hover,
    a.card:active,
    a.card:focus {
    text-decoration: none !important;
    color: inherit !important;
    outline: none !important;
    }
    .top-notification-bar {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        background: linear-gradient(90deg, #0388B4, #026689);
        color: white;
        font-size: 14px;
        font-weight: 600;
        z-index: 9999;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        overflow: hidden;
        height: 38px;
        line-height: 38px;
      }

      .ticker-wrapper {
        width: 100%;
        overflow: hidden;
        white-space: nowrap;
      }

      .ticker {
        display: inline-block;
        animation: ticker 45s linear infinite;
        padding-left: 100%; /* b·∫Øt ƒë·∫ßu t·ª´ ngo√†i b√™n ph·∫£i */
      }

      .ticker span {
        margin-right: 60px;
      }

      .ticker i {
        margin-right: 10px;
        color: #00D4FF;
        animation: pulse 2s infinite;
      }

      @keyframes ticker {
        0% { transform: translateX(0); }
        100% { transform: translateX(-100%); }
      }
      /* N·∫øu c√≥ header iframe, c·∫ßn ƒëi·ªÅu ch·ªânh l·∫°i ƒë·ªÉ kh√¥ng b·ªã ch·ªìng */
      iframe[src="../header.html"] {
        margin-top: 35px !important;
      }
  </style>
</head>
<body>
  <!-- Header -->
  <iframe src="../header.html" style="width: 100%; border: none; overflow: hidden; display: block;"></iframe>
    <div class="top-notification-bar">
        <div class="ticker-wrapper">
            <div class="ticker" id="ticker">
                <!-- N·ªôi dung s·∫Ω ƒë∆∞·ª£c JS ƒëi·ªÅn v√†o b·∫±ng h√†m -->
            </div>
        </div>
    </div>
    <script>
        // H√†m l·∫•y th√¥ng b√°o t·ª´ API
        async function fetchNotificationFromAPI(studentId) {
            try {
                const response = await fetch(`https://backend-production-42b5.up.railway.app/api/Admin/notifications/${studentId}`);
                if (!response.ok) throw new Error("Kh√¥ng th·ªÉ l·∫•y th√¥ng b√°o");
                const data = await response.json(); // { "notify": "..." }
                return data.notify || "Kh√¥ng c√≥ th√¥ng b√°o m·ªõi";
            } catch (err) {
                console.error(err);
                return "L·ªói khi l·∫•y th√¥ng b√°o";
            }
        }

        // C·∫≠p nh·∫≠t HTML ticker
        async function updateTicker(studentId) {
            const tickerDiv = document.querySelector("#ticker");
            const message = await fetchNotificationFromAPI(studentId);
            tickerDiv.innerHTML = `<span><i class="fas fa-bell"></i> ${message}</span>`;
        }

        // G·ªçi h√†m v·ªõi ID sinh vi√™n
        updateTicker("GV001");
    </script>
  <!-- Main Content -->
  <div class="main-container">
    <!-- Welcome Section -->
    <section class="welcome-section">
      <div class="welcome-text">üéì Ch√†o m·ª´ng ƒë·∫øn v·ªõi HCMUT_TUTOR</div>
      <div class="welcome-subtext">H·ªá th·ªëng t∆∞ v·∫•n h·ªó tr·ª£ sinh vi√™n</div>
    </section>

    <!-- Weather Widget -->
    <div class="weather">
      <div class="weather-icon" id="weather-icon">üå§Ô∏è</div>
      <div class="weather-temp" id="temp">--¬∞C</div>
      <div class="weather-desc" id="desc">ƒêang t·∫£i...</div>
      <div class="weather-details">
        <div class="weather-detail-item">
          <div id="humidity">--%</div>
          <div style="font-size: 10px; opacity: 0.8;">ƒê·ªô ·∫©m</div>
        </div>
        <div class="weather-detail-item">
          <div id="wind">-- m/s</div>
          <div style="font-size: 10px; opacity: 0.8;">Gi√≥</div>
        </div>
      </div>
    </div>

    <!-- Services Cards -->
    <main class="main">
      <a href="tutor_thongtincanhan.html" class="card">
        <div class="card-icon">
        <i class="fas fa-user"></i>
        </div>
        <h3>Th√¥ng tin c√° nh√¢n</h3>
        <p>Xem v√† c·∫≠p nh·∫≠t th√¥ng tin gi·∫£ng vi√™n c·ªßa b·∫°n</p>
      </a>

      <a href="tutor_taobuoituvan.html" class="card">
        <div class="card-icon">
          <i class="fas fa-calendar-plus"></i>
        </div>
        <h3>M·ªü bu·ªïi t∆∞ v·∫•n</h3>
        <p>T·∫°o l·ªãch t∆∞ v·∫•n m·ªõi cho sinh vi√™n</p>
      </a>

      <a href="tutor_xemlichsu.html" class="card">
        <div class="card-icon">
          <i class="fas fa-history"></i>
        </div>
        <h3>L·ªãch s·ª≠ t∆∞ v·∫•n</h3>
        <p>Xem l·∫°i c√°c bu·ªïi t∆∞ v·∫•n ƒë√£ th·ª±c hi·ªán</p>
      </a>
    </main>
  </div>

  <!-- Footer -->
  <div class="footer-wrapper">
    <iframe src="../footer.html" style="width: 100%; border: none; overflow: hidden; display: block; height: 100%;"></iframe>
  </div>

  <script>
    // Fetch weather data
    async function loadWeather() {
      try {
        const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=10.8231&longitude=106.6797&current=temperature_2m,weather_code,relative_humidity_2m,wind_speed_10m');
        const data = await response.json();
        const current = data.current;
        
        document.getElementById('temp').textContent = Math.round(current.temperature_2m) + '¬∞C';
        document.getElementById('humidity').textContent = current.relative_humidity_2m + '%';
        document.getElementById('wind').textContent = Math.round(current.wind_speed_10m) + ' m/s';
        
        const weatherCode = current.weather_code;
        let icon = 'üå§Ô∏è';
        let desc = 'N·∫Øng';
        
        if (weatherCode === 0 || weatherCode === 1) {
          icon = '‚òÄÔ∏è';
          desc = 'N·∫Øng';
        } else if (weatherCode === 2 || weatherCode === 3) {
          icon = '‚õÖ';
          desc = 'C√≥ m√¢y';
        } else if (weatherCode >= 45 && weatherCode <= 48) {
          icon = 'üå´Ô∏è';
          desc = 'S∆∞∆°ng m√π';
        } else if (weatherCode >= 51 && weatherCode <= 67) {
          icon = 'üåßÔ∏è';
          desc = 'M∆∞a';
        } else if (weatherCode >= 80 && weatherCode <= 82) {
          icon = 'üåßÔ∏è';
          desc = 'M∆∞a r√†o';
        } else if (weatherCode >= 85 && weatherCode <= 86) {
          icon = 'üå®Ô∏è';
          desc = 'M∆∞a tuy·∫øt';
        } else if (weatherCode >= 95 && weatherCode <= 99) {
          icon = '‚õàÔ∏è';
          desc = 'B√£o';
        }
        
        document.getElementById('weather-icon').textContent = icon;
        document.getElementById('desc').textContent = desc;
      } catch (error) {
        console.error('Error loading weather:', error);
      }
    }
    
    loadWeather();
  </script>
</body>
</html>
