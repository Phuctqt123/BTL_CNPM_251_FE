<!DOCTYPE html>
<html>
<body>
<h1>Test PDTApi</h1>
<div id="log"></div>
<script type="module">
import PDTApi from "./PDTApi.js";

function log(msg) {
    console.log(msg);
    const logDiv = document.getElementById("log");
    const p = document.createElement("p");
    p.textContent = typeof msg === "object" ? JSON.stringify(msg) : msg;
    logDiv.appendChild(p);
}

async function test() {
    log("Script loaded!");

    try {
        const dashboard = await PDTApi.getDashboard();
        log("getDashboard: " + JSON.stringify(dashboard));

        const sessions = await PDTApi.getSessions();
        log("getSessions: " + JSON.stringify(sessions));

        const detail = await PDTApi.getDetailSession(2);
        log("getDetailSession: " + JSON.stringify(detail));
    } catch (err) {
        log("Lỗi khi gọi API: " + err);
    }
}

test();
</script>
</body>
</html>
